<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>


<p id="result"></p>
<span>Số lượng bệnh nhân : </span>
<span id="amount"></span><br>


<script>
    class Patient {
        constructor(name, age, address, phoneNumber) {
            this.name = name;
            this.age = age;
            this.address = address;
            this.phoneNumber = phoneNumber;
        }


        getName() {
            return this.name;
        }


        getAge() {
            return this.age;
        }


        getAddress() {
            return this.address;
        }


        getPhoneNumber() {
            return this.phoneNumber;
        }
    }

    let patientList = [];
    patientList.push(new Patient("Nguyễn Lê Hoàng Oanh", 20, "Quảng Nam", "0923434345"));
    patientList.push(new Patient("Nguyễn Trần Cảnh", 30, "Quảng Nam", "0943246324"));
    patientList.push(new Patient("Hoàng Thanh Hùng", 15, "Quảng Nam", "0123451235"));
    patientList.push(new Patient("Trần Lệ Quyên", 19, "Quảng Nam", "0923093748"));
    sort(patientList);
    // display(patientList);


    function display(patient) {
        let tableString = '<table border="1" style="border-collapse: collapse">\n' +
            '    <tr>\n' + '<th colspan="5" > DANH SÁCH BỆNH NHÂN </th>' +
            '    </tr>' +
            '    <tr>\n' +
            '        <th>STT</th>\n' +
            '        <th>Họ và Tên</th>\n' +
            '        <th>Tuổi</th>\n' +
            '        <th>Địa chỉ</th>\n' +
            '        <th>Số điện thoại</th>\n' +
            '    </tr>';
        for (let i = 0; i < patient.length; i++) {
            tableString += '<tr>\n' +
                '        <td>' + (1 + i) + '</td>\n' +
                '        <td>' + patient[i].getName() + '</td>\n' +
                '        <td>' + patient[i].getAge() + '</td>\n' +
                '        <td>' + patient[i].getAddress() + '</td>\n' +
                '        <td>' + patient[i].getPhoneNumber() + '</td>\n' +
                // '        <td><button type="button" onclick="deleteProduct('+i+')">Delete</button></td>\n' +
                '    </tr>';
        }
        tableString += '</table>'
        document.getElementById("result").innerHTML = tableString;
        document.getElementById("amount").innerHTML = patient.length;
    }

    /////
    function sort(patient) {
        let arrayWordSort = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q",
            "R", "S", "T", "U", "V", "W", "X", "Y", "Z"];
        let count = 0;
        while (count != patient.length-1) {
            count = 0;
            for (let i = 0; i < patient.length-1; i++) {
                if (arrayWordSort.indexOf((patient[i].getName()).charAt((patient[i].getName()).lastIndexOf(" ") + 1)) >
                    arrayWordSort.indexOf((patient[i + 1].getName()).charAt((patient[i + 1].getName()).lastIndexOf(" ") + 1))) {
                    let temp = patient[i];
                    patient[i] = patient[i + 1];
                    patient[i + 1] = temp;
                } else {
                    count++;
                    console.log(count);

                }
                console.log(patient);
                // console.log(count);

            }
        }
        console.log(patient);

        display(patient);


    }

    ///



</script>
</body>
</html>
